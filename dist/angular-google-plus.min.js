/*! angular-google-plus - v0.1.2 2015-02-09 */
var options={};angular.module("googleplus",[]).provider("GooglePlus",[function(){options.clientId=null,this.setClientId=function(a){return options.clientId=a,this},this.getClientId=function(){return options.clientId},options.apiKey=null,this.setApiKey=function(a){return options.apiKey=a,this},this.getApiKey=function(){return options.apiKey},options.scopes="https://www.googleapis.com/auth/plus.login",this.setScopes=function(a){return options.scopes=a,this},this.getScopes=function(){return options.scopes},options.responseType=null,this.setResponseType=function(a){return options.responseType=a,this},this.getResponseType=function(){return options.responseType},options.redirectUri=null,this.setredirectUri=function(a){return options.redirectUri=a,this},this.getredirectUri=function(){return options.redirectUri},this.init=function(a){angular.extend(options,a)},this.$get=["$q","$rootScope","$timeout",function(a,b,c){var d,e=function(){};return e.prototype.login=function(){d=a.defer();var b={client_id:options.clientId,scope:options.scopes,immediate:!1};return null!==options.responseType&&(b.response_type=options.responseType),null!==options.redirectUri&&(b.redirect_uri=options.redirectUri),gapi.auth.authorize(b,this.handleAuthResult),d.promise},e.prototype.checkAuth=function(){var a={client_id:options.clientId,scope:options.scopes,immediate:!0};null!==options.responseType&&(a.response_type=options.responseType),null!==options.redirectUri&&(a.redirect_uri=options.redirectUri),gapi.auth.authorize(a,this.handleAuthResult)},e.prototype.handleClientLoad=function(){gapi.client.setApiKey(options.apiKey),gapi.auth.init(function(){}),c(this.checkAuth,1)},e.prototype.handleAuthResult=function(a){a&&!a.error?(d.resolve(a),b.$apply()):d.reject("error")},e.prototype.getUser=function(){var c=a.defer();return gapi.client.load("oauth2","v2",function(){gapi.client.oauth2.userinfo.get().execute(function(a){c.resolve(a),b.$apply()})}),c.promise},e.prototype.getToken=function(){return gapi.auth.getToken()},e.prototype.setToken=function(a){return gapi.auth.setToken(a)},e.prototype.logout=function(){return gapi.auth.signOut(),d.promise},new e}]}]).run([function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://apis.google.com/js/client.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}]);